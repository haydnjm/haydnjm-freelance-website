import Image from 'next/image'
import ZoomImage from '@/components/zoom-image'
import camera from '@/app/case-studies/security-on-the-edge/camera.jpg'
import flow from '@/app/case-studies/security-on-the-edge/flow.png'
import BlogNav from '@/components/blog-nav'
import ContactBanner from '@/components/contact-banner'

<Image
  src={camera}
  alt="Security cameras on a pole"
  className="object-cover aspect-video"
  priority
/>

# Security on the Edge: Incident detection in a low-bandwidth environment
### Python, Deepstream, AWS Greengrass, Docker
#### G-Streamer, Tailscale, Kubernetes, Sendgrid

>### tl;dr
>I deployed on-site hardware to analyse security camera data and create alerts. It improved the reaction times of security operators to incidents from around 20 minutes to a few seconds.

## problem
This project was defined by is physical infrastructure constraints. The customer operates a group of outdoor facilities in which they have security cameras running 24/7. The problem is that the facilities are often in remote locations with poor internet connectivity.

That makes it difficult to continuously stream video feeds from up to 60 cameras up to your cloud based security system. To monitor the facilities remotely you would either need to view the streams in batches of a few at a time, or select a subset of cameras to steam to a could based security tool like Avigilon or Verkada. 

Either way you are missing important information and are at risk of theft or damage

## solution
### obtaining detections
In collaboration with [Leon MÃ¼ller](https://devleon.com/), I developed an application to analyse the camera feeds and collect detection metadata for people and cars. The application was designed to be run on (relatively) inexpensive hardware which is optimised for running machine learning models.

We created a G-Streamer pipeline to manage the camera feeds and image data, and used Nvidia's Deepstream to perform object detection and tracking on the feeds.

The application then transmitted lightweight object detection metadata over MQTT to a [cloud ingestion service](/case-studies/metadata-ingestion), meaning that detections for all cameras in the park could be streamed simultaneously. More data intensive aspects of the detections such as screen grabs of the cameras were stored locally and could be accessed on demand, drastically reducing the load on the network.

### managing rollouts
Manually deploying to fleet of remote hardware can be complex, time consuming and error prone. I set up a deployment pipeline using AWS Greengrass which enabled me to roll out new versions of the application to all remote hardware at once, at the click of a few buttons, as well as track the version histories of each device.

<ZoomImage
  src={flow}
  alt="Flow diagram of security system"
  className="w-full"
  caption="Flow diagram of security system, showing how the data flows from the cameras to the cloud"
/>

## results

The security team that monitors the facilities were able to respond to events in the park in a matter of seconds, where it was taking around 20 minutes on average previously.

<ContactBanner />
<BlogNav 
  previous={{ title: "Bi Stack", slug: "/case-studies/bi-stack" }} 
  next={{ title: "Planning Environment", slug: "/case-studies/planning-environment" }}
/>
